@use "../variables" as *;
@use "../mixins" as *;

/* Header Moderno - TESTE AUTO-REFRESH */
.site-header {
  // Sticky header com backdrop blur
  &.scrolled {
    @apply bg-white/95 backdrop-blur-sm;
  }

  // Logo customizado
  .site-branding {
    .custom-logo-link {
      @apply inline-block;

      img {
        @apply h-8 lg:h-10 w-auto;
      }
    }

    h1 a {
      @apply no-underline transition-colors duration-200;
    }
  }

  // Navegação desktop
  .main-navigation {
    ul {
      @apply m-0 p-0 list-none;

      li {
        @apply relative;

        a {
          @apply text-gray-700 hover:text-blue-600 font-medium transition-colors duration-200 py-2 px-3 rounded-md hover:bg-gray-50 no-underline;
        }

        // Submenu dropdown
        ul {
          @apply absolute top-full left-0 bg-white shadow-lg rounded-lg py-2 min-w-48 opacity-0 invisible translate-y-2 transition-all duration-200 z-50;

          li a {
            @apply block px-4 py-2 text-sm hover:bg-gray-50;
          }
        }

        &:hover ul {
          @apply opacity-100 visible translate-y-0;
        }
      }
    }
  }

  // Menu mobile toggle com ícones FontAwesome
  .menu-toggle {
    .menu-icon {
      @apply transition-all duration-300;
    }

    .close-icon {
      @apply transition-all duration-300;
    }

    &.active {
      .menu-icon {
        @apply opacity-0 scale-0 rotate-90;
      }

      .close-icon {
        @apply opacity-100 scale-100 rotate-0;
      }
    }

    &:hover {
      @apply bg-gray-100 rounded-full;
    }
  }

  .mobile-menu {
    &.active {
      @apply translate-x-0;
    }

    .mobile-nav-menu {
      @apply space-y-0;

      li {
        a {
          @apply flex items-center space-x-3 px-6 py-4 text-gray-700 hover:text-blue-600 hover:bg-gray-50 border-b border-gray-100 no-underline transition-colors duration-200;

          &:before {
            content: "";
            @apply w-1 h-1 bg-gray-400 rounded-full;
          }
        }

        &.menu-item-has-children {
          > a:after {
            content: "\f107";
            font-family: "Font Awesome 5 Free";
            font-weight: 900;
            @apply ml-auto text-gray-400;
          }
        }

        // Submenu mobile
        ul {
          @apply bg-gray-50 space-y-0;

          li a {
            @apply pl-12 text-sm text-gray-600;

            &:before {
              @apply w-0.5 h-0.5;
            }
          }
        }
      }
    }
  }
}

// Overlay para mobile menu
.mobile-menu-overlay {
  &.active {
    @apply opacity-100 pointer-events-auto;
  }
}

// Modal de busca
#search-modal {
  &.active {
    .bg-white {
      @apply scale-100;
    }
  }

  .search-form {
    input[type="search"] {
      &:focus {
        @apply ring-2 ring-blue-500 border-blue-500;
      }

      &::placeholder {
        @apply text-gray-500;
      }
    }
  }

  // Animações do modal
  .bg-white {
    @apply transition-transform duration-300;
  }
}

// Animação suave para scroll
@media (prefers-reduced-motion: no-preference) {
  .site-header {
    @apply transition-all duration-300;
  }

  #search-modal {
    @apply transition-all duration-300;
  }
}
